<md-dialog ng-controller="AddDialogController">
    <md-dialog-content class="add_dialog">
        <md-autocomplete
            placeholder="Record name"
            md-selected-item-change="focus_add_button()"
            md-delay=300
            md-min-length=3
            md-selected-item="search_object.selected_item"
            md-search-text="search_object.query"
            md-items="search_item in search()"
            md-item-text="search_item.title"
            md-autofocus>
            <md-item-template>
                <div class="search_result_row" layout="row">
                    <img class="thumb" ng-src='{{search_item.thumb}}' />
                    <span class="artist"> {{search_item.artist}} </span>
                    <span class="album_title"> {{search_item.title}} </span>
                    <span> ({{search_item.year}})</span>
                </div>
            </md-item-template>
        </md-autocomplete>
        <div class="selected_item" layout="row" ng-show="search_object.selected_item" id="item_add_preview">
            <img class="thumb" ng-src='{{search_object.selected_item.thumb}}' />
            <div class="selected_details" layout="column">
                <span class="artist"> {{search_object.selected_item.artist}}</span>
                <span class="album_title"> {{search_object.selected_item.title}}</span>
                <span> {{search_object.selected_item.year}}</span>
            </div>
        </div>
    </md-dialog-content>
    <div class="md-actions" layout="row">
        <md-button id="add_button" class="md-primary md-raised" ng-disabled="!search_object.selected_item.title" ng-click="add_selected_item();">Add Item</md-button>
    </div>
</md-dialog>
